{"ast":null,"code":"import * as _ from '../actions/types';\nconst initialState = {\n  cans: [],\n  can: {},\n  temps: [],\n  filter: [],\n  pagination: [],\n  pag: []\n};\n\nconst rootReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (type) {\n    case _.GET_CANS:\n      return { ...state,\n        cans: payload,\n        filter: payload\n      };\n\n    case _.CAN:\n      const can = state.cans.find(can => can.id === payload);\n      return { ...state,\n        can: can\n      };\n\n    case _.TEMPS:\n      return { ...state,\n        temps: payload\n      };\n\n    case _.PAGINATION:\n      let pages = [];\n\n      for (let i = 0; i < state.cans.length; i += 8) {\n        let cuts = state.cans.slice(i, i + 8);\n        pages.push(cuts);\n      }\n\n      return { ...state,\n        pagination: pages\n      };\n\n    case _.PAG:\n      let pag = state.pagination[payload];\n      return { ...state,\n        pag: pag\n      };\n\n    case _.SEARCH:\n      const cans = state.filter.filter(can => {\n        console.log(payload);\n        if (payload.length === 0 || payload === '') return can;\n        if (payload && can.name.toUpperCase().includes(payload.toUpperCase())) return can;\n      });\n      return { ...state,\n        cans: cans\n      };\n\n    case _.ORDER_ASC:\n      const order_asc = state.cans.sort((bef, aft) => {\n        if (bef.name < aft.name) return 1;\n        if (bef.name > aft.name) return -1;\n        return 0;\n      });\n      return { ...state,\n        cans: order_asc\n      };\n\n    case _.ORDER_DESC:\n      const order_desc = state.cans.sort((bef, aft) => {\n        if (bef.name > aft.name) return 1;\n        if (bef.name < aft.name) return -1;\n        return 0;\n      });\n      return { ...state,\n        cans: order_desc\n      };\n\n    case _.ORDER_FAT:\n      const order_fat = state.cans.sort((b, a) => {\n        let bPP = Math.round(b.weight.split(' - ').reduce((bef, aft) => (parseInt(bef) + parseInt(aft)) / 2));\n        let aPP = Math.round(a.weight.split(' - ').reduce((bef, aft) => (parseInt(bef) + parseInt(aft)) / 2));\n        return aPP - bPP;\n      });\n      return { ...state,\n        cans: order_fat\n      };\n\n    case _.ORDER_FIT:\n      const order_fit = state.cans.sort((b, a) => {\n        let bPP = Math.round(b.weight.split(' - ').reduce((bef, aft) => (parseInt(bef) + parseInt(aft)) / 2));\n        let aPP = Math.round(a.weight.split(' - ').reduce((bef, aft) => (parseInt(bef) + parseInt(aft)) / 2));\n        return bPP - aPP;\n      });\n      return { ...state,\n        cans: order_fit\n      };\n\n    case _.ORDER_MAX:\n      const order_max = state.cans.sort((b, a) => {\n        let bPP = Math.round(b.height.split(' - ').reduce((bef, aft) => (parseInt(bef) + parseInt(aft)) / 2));\n        let aPP = Math.round(a.height.split(' - ').reduce((bef, aft) => (parseInt(bef) + parseInt(aft)) / 2));\n        return aPP - bPP;\n      });\n      return { ...state,\n        cans: order_max\n      };\n\n    case _.ORDER_MIN:\n      const order_min = state.cans.sort((b, a) => {\n        let bPP = Math.round(b.height.split(' - ').reduce((bef, aft) => (parseInt(bef) + parseInt(aft)) / 2));\n        let aPP = Math.round(a.weight.split(' - ').reduce((bef, aft) => (parseInt(bef) + parseInt(aft)) / 2));\n        return bPP - aPP;\n      });\n      return { ...state,\n        cans: order_min\n      };\n\n    case _.FILTER:\n      const filter = state.filter.filter(can => {\n        if (payload.toUpperCase() === 'MY_CANS' && can.id.toString().length > 3) return can;\n        if (payload.toUpperCase() === 'API_DOGS' && can.id.toString().length <= 3) return can;\n        if (can.temps && can.temps.includes(payload.toLowerCase())) return can;\n      });\n      return { ...state,\n        cans: filter\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default rootReducer;","map":{"version":3,"sources":["/media/jhoanburbano/ubuntu-data/jhoanburbano/projects/react/PI-Dogs/client/src/redux/reducers/index.js"],"names":["_","initialState","cans","can","temps","filter","pagination","pag","rootReducer","state","type","payload","GET_CANS","CAN","find","id","TEMPS","PAGINATION","pages","i","length","cuts","slice","push","PAG","SEARCH","console","log","name","toUpperCase","includes","ORDER_ASC","order_asc","sort","bef","aft","ORDER_DESC","order_desc","ORDER_FAT","order_fat","b","a","bPP","Math","round","weight","split","reduce","parseInt","aPP","ORDER_FIT","order_fit","ORDER_MAX","order_max","height","ORDER_MIN","order_min","FILTER","toString","toLowerCase"],"mappings":"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","sourcesContent":["import * as _ from '../actions/types';\nconst initialState = {\n\tcans: [],\n\tcan: {},\n\ttemps: [],\n\tfilter: [],\n\tpagination: [],\n\tpag: []\n};\n\nconst rootReducer = function(state = initialState, { type, payload }) {\n\tswitch (type) {\n\t\tcase _.GET_CANS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcans: payload,\n\t\t\t\tfilter: payload\n\t\t\t};\n\t\tcase _.CAN:\n\t\t\tconst can = state.cans.find((can) => can.id === payload);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcan: can\n\t\t\t};\n\t\tcase _.TEMPS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttemps: payload\n\t\t\t};\n\t\tcase _.PAGINATION:\n\t\t\tlet pages = [];\n\t\t\tfor (let i = 0; i < state.cans.length; i += 8) {\n\t\t\t\tlet cuts = state.cans.slice(i, i + 8);\n\t\t\t\tpages.push(cuts);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpagination: pages\n\t\t\t};\n\t\tcase _.PAG:\n\t\t\tlet pag = state.pagination[payload];\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpag: pag\n\t\t\t};\n\t\tcase _.SEARCH:\n\t\t\tconst cans = state.filter.filter((can) => {\n\t\t\t\tconsole.log(payload)\n\t\t\t\tif (payload.length === 0 || payload === '') return can;\n\t\t\t\tif (payload && can.name.toUpperCase().includes(payload.toUpperCase())) return can;\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcans: cans\n\t\t\t};\n\t\tcase _.ORDER_ASC:\n\t\t\tconst order_asc = state.cans.sort((bef, aft) => {\n\t\t\t\tif (bef.name < aft.name) return 1;\n\t\t\t\tif (bef.name > aft.name) return -1;\n\t\t\t\treturn 0;\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcans: order_asc\n\t\t\t};\n\t\tcase _.ORDER_DESC:\n\t\t\tconst order_desc = state.cans.sort((bef, aft) => {\n\t\t\t\tif (bef.name > aft.name) return 1;\n\t\t\t\tif (bef.name < aft.name) return -1;\n\t\t\t\treturn 0;\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcans: order_desc\n\t\t\t};\n\t\tcase _.ORDER_FAT:\n\t\t\tconst order_fat = state.cans.sort((b, a) => {\n\t\t\t\tlet bPP = Math.round(b.weight.split(' - ').reduce((bef, aft) => (parseInt(bef) + parseInt(aft)) / 2));\n\t\t\t\tlet aPP = Math.round(a.weight.split(' - ').reduce((bef, aft) => (parseInt(bef) + parseInt(aft)) / 2));\n\t\t\t\treturn aPP - bPP;\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcans: order_fat\n\t\t\t};\n\t\tcase _.ORDER_FIT:\n\t\t\tconst order_fit = state.cans.sort((b, a) => {\n\t\t\t\tlet bPP = Math.round(b.weight.split(' - ').reduce((bef, aft) => (parseInt(bef) + parseInt(aft)) / 2));\n\t\t\t\tlet aPP = Math.round(a.weight.split(' - ').reduce((bef, aft) => (parseInt(bef) + parseInt(aft)) / 2));\n\t\t\t\treturn bPP - aPP;\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcans: order_fit\n\t\t\t};\n\t\tcase _.ORDER_MAX:\n\t\t\tconst order_max = state.cans.sort((b, a) => {\n\t\t\t\tlet bPP = Math.round(b.height.split(' - ').reduce((bef, aft) => (parseInt(bef) + parseInt(aft)) / 2));\n\t\t\t\tlet aPP = Math.round(a.height.split(' - ').reduce((bef, aft) => (parseInt(bef) + parseInt(aft)) / 2));\n\t\t\t\treturn aPP - bPP;\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcans: order_max\n\t\t\t};\n\t\tcase _.ORDER_MIN:\n\t\t\tconst order_min = state.cans.sort((b, a) => {\n\t\t\t\tlet bPP = Math.round(b.height.split(' - ').reduce((bef, aft) => (parseInt(bef) + parseInt(aft)) / 2));\n\t\t\t\tlet aPP = Math.round(a.weight.split(' - ').reduce((bef, aft) => (parseInt(bef) + parseInt(aft)) / 2));\n\t\t\t\treturn bPP - aPP;\n\t\t\t});\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcans: order_min\n\t\t\t};\n\t\tcase _.FILTER:\n\t\t\tconst filter = state.filter.filter(can => {\n\t\t\t\tif (payload.toUpperCase() === 'MY_CANS' && can.id.toString().length > 3)return can;\n\t\t\t\tif (payload.toUpperCase() === 'API_DOGS' && can.id.toString().length <= 3)return can;\n\t\t\t\tif (can.temps && can.temps.includes(payload.toLowerCase()))return can;\n\t\t\t})\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tcans: filter\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default rootReducer;"]},"metadata":{},"sourceType":"module"}